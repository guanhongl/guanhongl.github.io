<!doctype html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NC2F8YN01J"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-NC2F8YN01J');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Wild Rydes | Steven Li | Professional Portfolio">
    <meta name="description" content="">
    <meta name="image" content="https://github.com/guanhongl.png">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Steven Li | Professional Portfolio">
    <meta property="og:url" content="https://guanhongl.github.io/projects/wildrydes.html">
    <meta property="og:title" content="Wild Rydes | Steven Li | Professional Portfolio">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://github.com/guanhongl.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/techfolio-theme/default.css">
    <link rel="stylesheet" type="text/css" href="/css/rouge/github.css">
    <!-- Load MathJax if 'mathjax: true' is found in your _config.yml. -->
    
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
    </script>
    

    <title>Wild Rydes | Steven Li | Professional Portfolio</title>
  </head>
  <body>
  <header class="navbar navbar-expand navbar-light bg-light bg-gradient border-bottom">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Steven Li</a>
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <a class="nav-link" href="/#projects">Projects</a>
        <a class="nav-link" href="/#essays">Essays</a>
        <a class="nav-link" href="/resume.html">Resume</a>
      </ul>
    </div>
  </div>
</header>

<div class="container py-4">
  <h1 class="display-4">Wild Rydes</h1>
 <p><img class="img-fluid" src="../img/wildrydes/wildrydes-home-page.png" /></p>

<p><a href="https://github.com/guanhongl/wildrydes-site">Visit GitHub Repo</a></p>

<h2 id="a-serverless-web-app">A Serverless Web App</h2>

<p>Wild Rydes is a simple serverless web app that enables users to request unicorn rides from the Wild Rydes fleet. I built this app to practice designing and implementing cloud computing solutions. The idea came from Amazon’s Getting Started Resource Center. The app presents users with an HTML-based user interface with Amplify for indicating the location where they would like to be picked up. The app interacts with a RESTful web service on the backend with API Gateway, Lambda, and DynamoDB to submit the request and dispatch a nearby unicorn. Users must register with the service and log in before requesting rides; Cognito is used for authentication.</p>

<h2 id="app-architecture">App Architecture</h2>

<p><img class="img-fluid" src="../img/wildrydes/wildrydes-architecture.png" /></p>

<h4 id="static-web-hosting">Static Web Hosting</h4>

<p>The app’s static web content including HTML, CSS, JavaScript, and images is hosted by Amplify. Amplify exposes the public website URL and loads the static web content in the user’s browser. Also, I connected my source code from my Git repo to Amplify to enable continuous deployment!</p>

<h4 id="user-management">User Management</h4>

<p>I used Cognito for user management and authentication to secure the app’s backend API. I created a user pool to manage the app’s user accounts. Users must provide an email address and password to register. On submission, Cognito will send a confirmation email with a verification code to the email address. <em>I chose to send emails with Cognito, but for production I recommend using Amazon Simple Email Service (SES) due to rate limits.</em> After confirming their account, users are able to sign in. Then, the browser receives a set of JSON Web Tokens (JWT) which are used to authenticate against the RESTful API.</p>

<div class="container text-center">
  <div class="row">
    <div class="col">
      <img src="../img/wildrydes/wildrydes-register-page.png" class="img-fluid" />
    </div>
    <div class="col">
      <img src="../img/wildrydes/wildrydes-verify-page.png" class="img-fluid" />
    </div>
  </div>
</div>

<h4 id="serverless-backend">Serverless Backend</h4>

<p>A serverless architecture is a way to build and run applications and services without having to manage infrastructure. Server management is abstracted by AWS so that developers can focus on the core product. I used Lambda and DynamoDB, a key-value store, to build the backend process for handling requests for a unicorn. When a user requests a unicorn, a Lambda function that selects a unicorn from the fleet is invoked. Also, the function records the request in a DynamoDB table then responds to the app with details about the unicorn. <em>Lambda runs code in response to an event trigger; triggers are often another AWS service such as API Gateway.</em></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Lambda code snippet:</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">handler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// We pick a unicorn at random.</span>

    <span class="p">...</span>

    <span class="c1">// Record the ride in the DynamoDB table.</span>
    <span class="nx">ddb</span><span class="p">.</span><span class="nx">put</span><span class="p">({</span>
        <span class="na">TableName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Rides</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">Item</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">RideId</span><span class="p">:</span> <span class="nx">rideId</span><span class="p">,</span>
            <span class="na">User</span><span class="p">:</span> <span class="nx">username</span><span class="p">,</span>
            <span class="na">Unicorn</span><span class="p">:</span> <span class="nx">unicorn</span><span class="p">,</span>
            <span class="na">UnicornName</span><span class="p">:</span> <span class="nx">unicorn</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span>
            <span class="na">RequestTime</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">(),</span>
        <span class="p">},</span>
    <span class="p">}).</span><span class="nx">promise</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="c1">// The response data.</span>
          <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
              <span class="na">statusCode</span><span class="p">:</span> <span class="mi">201</span><span class="p">,</span>
              <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                  <span class="na">RideId</span><span class="p">:</span> <span class="nx">rideId</span><span class="p">,</span>
                  <span class="na">Unicorn</span><span class="p">:</span> <span class="nx">unicorn</span><span class="p">,</span>
                  <span class="na">UnicornName</span><span class="p">:</span> <span class="nx">unicorn</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span>
                  <span class="na">Eta</span><span class="p">:</span> <span class="dl">'</span><span class="s1">30 seconds</span><span class="dl">'</span><span class="p">,</span>
                  <span class="na">Rider</span><span class="p">:</span> <span class="nx">username</span><span class="p">,</span>
              <span class="p">}),</span>
              <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
                  <span class="dl">'</span><span class="s1">Access-Control-Allow-Origin</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span>
              <span class="p">},</span>
          <span class="p">});</span>
      <span class="p">})</span>

    <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div>

<h4 id="restful-api">RESTful API</h4>

<p>Finally, I used API Gateway to expose my Lambda function as a RESTful API secured using the Cognito user pool. The browser sends and receives data over API Gateway. Authenticated users request a unicorn ride by selecting their pickup location by clicking a point on the map, added by ArcGIS, then by clicking the “Request Unicorn” button.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// The client-side JavaScript that makes the AJAX request to the API:</span>
<span class="kd">function</span> <span class="nx">requestUnicorn</span><span class="p">(</span><span class="nx">pickupLocation</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">_config</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">invokeUrl</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/ride</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">Authorization</span><span class="p">:</span> <span class="nx">authToken</span> <span class="c1">// The auth token sent by Cognito.</span>
        <span class="p">},</span>
        <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="na">PickupLocation</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">Latitude</span><span class="p">:</span> <span class="nx">pickupLocation</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span>
                <span class="na">Longitude</span><span class="p">:</span> <span class="nx">pickupLocation</span><span class="p">.</span><span class="nx">longitude</span>
            <span class="p">}</span>
        <span class="p">}),</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>

        <span class="p">...</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="container text-center">
  <div class="row">
    <div class="col">
      <img src="../img/wildrydes/wildrydes-ride-page.png" class="img-fluid" />
    </div>
    <div class="col">
      <img src="../img/wildrydes/wildrydes-unicorn.png" class="img-fluid" />
    </div>
  </div>
</div>

</div>

<footer class="navbar navbar-expand navbar-light bg-light bg-gradient border-top">
  <div class="container-fluid">
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <small><a class="nav-link" href="https://techfolios.github.io">Made with Techfolios</a></small>
      </ul>
    </div>
  </div>
</footer>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>
